<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<ui:composition template="../../xhtml/common/examtemplate.xhtml">
	<ui:define name="content">
		<h:outputScript library="javax.faces" name="jsf.js" target="head" />
		<div style="width: 100%; overflow: auto; overflow-x: hidden;">
			<h:form id="examDetailForm">
				<div class="typrography">
					<h2
						style="text-align: center; padding-bottom: 20px; color: #3382C9;">结果一览</h2>
					<div class="container">
						<div class="bs-example">
							<h:panelGroup id="ngossfw_error_display"
								class="#{request.getAttribute('request-message-level')}"
								layout="block">
								<h:outputText
									value="${request.getAttribute('request-message-content')}"
									escape="false" />
							</h:panelGroup>
							<h4>
								<b><h:outputText value="#{examResultBean.title}"></h:outputText></b>
							</h4>
                            <c:if test="#{examResultBean.subject !=''}">
                                <table class="table table-bordered">
                                    <tr>
                                        <td align="center"><h4>问题</h4></td>
                                    </tr>
                                    <tr>
                                        <td><h:outputText value="#{examResultBean.subject}" /></td>
                                    </tr>
                                </table>
                            </c:if>
							<h:dataTable class="table table-bordered" rendered="true"
								value="#{examResultBean.questions}" var="item">
								<h:column>
									<h:panelGroup rendered="#{item.myAnswer eq item.answer}">
										<h4 style="color: #33cc33;">正确</h4>
									</h:panelGroup>
									<h:panelGroup rendered="#{item.myAnswer ne item.answer}">
										<h4 style="color: red;">错误</h4>
									</h:panelGroup>
									<td colspan="4" class="list-group list-group-alternate"><h:commandLink
											action="#{examResultBean.showDetail}"
											style="border-left: 0px; border-top: 0px; border-right: 0px; border-bottom: 1px; padding-left: 0px; padding-right: 0px;"
											class="list-group-item">
											<f:param name="questionId" value="#{item.no}"></f:param> #{item.context}<ins>#{item.contextKey}</ins>#{item.contextAfter}
									</h:commandLink></td>
									<c:if test="#{examResultBean.classifyBean.examType ne '5'}">
										<tr>
											<td><h4>选项：</h4></td>
											<td>A：<h:outputText value="#{item.a}" />
											</td>
											<td>B：<h:outputText value="#{item.b}" />
											</td>
											<td>C：<h:outputText value="#{item.c}" />
											</td>
											<td>D：<h:outputText value="#{item.d}" />
											</td>
										</tr>
									</c:if>
									<c:if test="#{examResultBean.classifyBean.examType eq '5'}">
										<tr>
											<td rowspan="4"><h4>选项：</h4></td>
											<td colspan="4">A：<h:outputText value="#{item.a}" /></td>
										</tr>
										<tr>
											<td colspan="4">B：<h:outputText value="#{item.b}" /></td>
										</tr>
										<tr>
											<td colspan="4">C：<h:outputText value="#{item.c}" /></td>
										</tr>
										<tr>
											<td colspan="4">D：<h:outputText value="#{item.d}" /></td>
										</tr>
									</c:if>
									<tr>
										<td><h4>您的选择：</h4></td>
										<h:panelGroup rendered="#{item.myAnswer eq '1'}">
											<td colspan="4">A</td>
										</h:panelGroup>
										<h:panelGroup rendered="#{item.myAnswer eq '2'}">
											<td colspan="4">B</td>
										</h:panelGroup>
										<h:panelGroup rendered="#{item.myAnswer eq '3'}">
											<td colspan="4">C</td>
										</h:panelGroup>
										<h:panelGroup rendered="#{item.myAnswer eq '4'}">
											<td colspan="4">D</td>
										</h:panelGroup>
										<h:panelGroup rendered="#{item.myAnswer eq ''}">
											<td colspan="4">未选择</td>
										</h:panelGroup>
									</tr>
									<tr>
										<td><h4>正确答案：</h4></td>
										<h:panelGroup rendered="#{item.answer eq '1'}">
											<td colspan="4">A</td>
										</h:panelGroup>
										<h:panelGroup rendered="#{item.answer eq '2'}">
											<td colspan="4">B</td>
										</h:panelGroup>
										<h:panelGroup rendered="#{item.answer eq '3'}">
											<td colspan="4">C</td>
										</h:panelGroup>
										<h:panelGroup rendered="#{item.answer eq '4'}">
											<td colspan="4">D</td>
										</h:panelGroup>
									</tr>
									<tr>
										<td><h4>解析：</h4></td>
										<td colspan="4"><h:panelGroup
												rendered="#{item.analysis eq null}">暂无</h:panelGroup> <h:outputText
												value="#{item.analysis}"></h:outputText></td>
									</tr>
								</h:column>
							</h:dataTable>
							<div class="form-submit1">
								<h:commandButton value="继续做题" class="button1"
									action="#{examResultBean.goBackToExam}" id="goBackToExamBtn">
								</h:commandButton>
							</div>
						</div>
					</div>
				</div>
			</h:form>
		</div>
	</ui:define>
</ui:composition>
</html>