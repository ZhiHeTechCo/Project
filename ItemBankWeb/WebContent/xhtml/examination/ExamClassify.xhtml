<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<ui:composition template="../../xhtml/common/template.xhtml">
	<ui:define name="content">
		<h:outputScript library="javax.faces" name="jsf.js" target="head" />
		<script type="text/javascript">
       /**
        * 考题种别变更CallBack
        * 
        * @param data
        */
       function changExamTypeChangeCallBack(data) {
           var ajaxStatus = data.status;
           // status
           switch (ajaxStatus) {
           case "begin":
               break;
           case "complete":
               resetButtonDisabled();
               break;
           case "success":
               break;
           }
       }
       </script>
		<div style="width: 100%; overflow: auto; overflow-x: hidden;">
			<h:form id="examClassifyForm">
				<div class="typrography">
					<h2
						style="text-align: center; padding-bottom: 20px; color: #3382C9;">试题类别选择</h2>
					<div class="container">
						<div class="col-md-8 contact-top">
							<h:panelGroup id="ngossfw_error_display"
								class="#{request.getAttribute('request-message-level')}"
								layout="block">
								<h:outputText
									value="${request.getAttribute('request-message-content')}"
									escape="false" />
							</h:panelGroup>
							<h5 style="color: #3382C9;">请选择您想做的试题类型。</h5>
							<table class="toTable" style="width: 70%">
								<tr>
									<td><h4>考题种别：</h4></td>
									<td><h:selectOneRadio
											value="#{examClassifyBean.classifyBean.exam}"
											style="width: 150px" onchange="return cancelToken(this, 1)">
											<f:selectItems value="#{examClassifyBean.exams}" var="entry"
												itemValue="#{entry.key}" itemLabel="#{entry.value}" />
											<f:ajax event="change" execute="@this"
												render="levelLableWrapper levelWrapper"
												listener="#{examClassifyBean.changExamType}"
												onevent="changExamTypeChangeCallBack" />
										</h:selectOneRadio></td>
								</tr>
								<tr>
									<td><h4>考试类别：</h4></td>
									<td><h:selectOneRadio
											value="#{examClassifyBean.classifyBean.examType}"
											style="width: 150px">
											<f:selectItems value="#{examClassifyBean.examTypes}"
												var="entry" itemValue="#{entry.key}"
												itemLabel="#{entry.value}" />
										</h:selectOneRadio></td>
								</tr>
								<tr>
									<td><h:panelGroup id="levelLableWrapper">
											<c:if
												test="#{examClassifyBean.classifyBean.exam=='1' ||  examClassifyBean.classifyBean.exam =='2'}">
												<h4>考试级别：</h4>
											</c:if>
										</h:panelGroup></td>
									<td><h:panelGroup id="levelWrapper">
											<c:choose>
												<c:when test="#{examClassifyBean.classifyBean.exam eq '1'}">
													<h:selectOneMenu
														value="#{examClassifyBean.classifyBean.jlptLevel}"
														style="width: 60px">
														<f:selectItem itemValue="" itemLabel="" />
														<f:selectItems value="#{examClassifyBean.jlptLevels}"
															var="entry" itemValue="#{entry.key}"
															itemLabel="#{entry.value}" />
													</h:selectOneMenu>
												</c:when>
												<c:when test="#{examClassifyBean.classifyBean.exam eq '2'}">
													<h:selectOneMenu
														value="#{examClassifyBean.classifyBean.jtestLevel}"
														style="width: 60px">
														<f:selectItem itemValue="" itemLabel="" />
														<f:selectItems value="#{examClassifyBean.jtestLevels}"
															var="entry" itemValue="#{entry.key}"
															itemLabel="#{entry.value}" />
													</h:selectOneMenu>
												</c:when>
											</c:choose>
										</h:panelGroup></td>
								</tr>
								<tr>
									<td>
										<div class="form-submit1">
											<h:commandButton value="开始做题" class="button1"
												action="#{examClassifyBean.classifySearch}"
												id="classifySearchBtn" />
										</div>
									</td>
									<td><div class="form-submit1">
											<h:commandButton value="开始考试" class="button1"
												action="#{examClassifyBean.examSearch}" id="examSearchBtn" />
										</div></td>
								</tr>
							</table>

							<table class="to" style="margin-top: 50px;">
								<tr>
									<td><h5 style="color: #3382C9;">如果您个人资料中已包含语言等级信息，也可以试试：</h5></td>
								</tr>
								<tr>
									<td><div class="form-submit1">
											<h:commandButton value="智能推题" class="button1"
												action="#{examClassifyBean.smartSearch}" id="smartSearchBtn" />
										</div></td>
								</tr>
							</table>
						</div>
						<div class="col-md-4 contact-top_right">
							<h3>说明</h3>
							<p><b>点击[开始做题]：</b>系统会根据您的选择推送试题，并记录错题，随时可退出。</p>
							<p><b>点击[开始考试]：</b>进入考试模式，中途退出则考试作废，但您仍然可以查看成绩。</p>
							<p>（需选择考题种别，然后再在弹出的考试级别中选择对应等级。）</p>
							<p><b>点击[智能推题]：</b>系统会根据您的语言级别智能推送试题。</p>
						</div>
					</div>
				</div>
			</h:form>
		</div>
	</ui:define>
</ui:composition>
</html>